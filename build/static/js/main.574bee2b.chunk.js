(this.webpackJsonpjogging=this.webpackJsonpjogging||[]).push([[0],{22:function(t,e,n){t.exports={box:"LoginButton_box__2ic9J",button:"LoginButton_button__2nWmP"}},23:function(t,e,n){t.exports={header:"Header_header__1VCKf",logo:"Header_logo__3_SJs"}},40:function(t,e,n){t.exports={main:"Login_main__14HFn"}},43:function(t,e,n){},75:function(t,e,n){"use strict";n.r(e);n(43);var a=n(19),r=n.n(a),c=n(15),o=n(12),s=n(0),i=n(4),u=c.c,j=n(1),h=function(){return Object(j.jsx)("div",{children:" Jogs "})},O=n(21),p=n(17),l=n(5),b=n(11),d=n.n(b),g=n(13),f=n(14),v=n(16),x=n.n(v),_="/api/v1/auth/uuidLogin";x.a.create().interceptors.request.use((function(t){var e=Object(l.a)({},t),n=u((function(t){return t.auth})).accessToken;return n&&(e.headers.Authorization="Bearer "+n),e}));var S=new function t(){Object(f.a)(this,t),this.login=Object(g.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post("".concat("https://jogtracker.herokuapp.com").concat(_),{uuid:"hello"});case 3:return e=t.sent,t.abrupt("return",e);case 7:throw t.prev=7,t.t0=t.catch(0),new Error;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))};x.a.create().interceptors.request.use((function(t){var e=Object(l.a)({},t),n=u((function(t){return t.auth})).accessToken;return n&&(e.headers.Authorization="Bearer "+n),e}));var m,E=new function t(){Object(f.a)(this,t),this.login=Object(g.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post("".concat(_),{line:""});case 3:return e=t.sent,t.abrupt("return",e);case 7:throw t.prev=7,t.t0=t.catch(0),new Error;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))},T=new function t(){Object(f.a)(this,t),this.ApiJogs=E,this.ApiAuth=S};!function(t){t.SET_AUTH="SET_AUTH",t.SET_ERROR="SET_ERROR",t.SET_USER="SET_USER",t.SET_IS_LOADING="SET_IS_LOADING"}(m||(m={}));var I,A={setIsAuth:function(t){return{type:m.SET_AUTH,payload:t}},setIsLoading:function(t){return{type:m.SET_IS_LOADING,payload:t}},setError:function(t){return{type:m.SET_ERROR,payload:t}},login:function(){return function(){var t=Object(g.a)(d.a.mark((function t(e){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(A.setIsLoading(!0)),t.next=4,T.ApiAuth.login();case 4:(n=t.sent)?(localStorage.setItem("access_token",n.data.response.access_token),e(A.setIsAuth(!0))):e(A.setError("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d")),e(A.setIsLoading(!1)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e(A.setError("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043b\u043e\u0433\u0438\u043d\u0435"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}};!function(t){t.SET_JOGS="SET_JOGS"}(I||(I={}));var N,L={setJogs:function(t){return{type:I.SET_JOGS,payload:t}},createJog:function(t){return function(e){try{var n=localStorage.getItem("events")||"[]",a=JSON.parse(n);a.push(t),e(L.setJogs(a)),localStorage.setItem("events",JSON.stringify(a))}catch(r){console.log(r)}}}},J=Object(l.a)(Object(l.a)({},A),L),y=function(){var t=Object(c.b)();return Object(p.b)(J,t)},w=n(22),G=n.n(w),k=function(){var t=y().login;return Object(j.jsxs)("div",{className:G.a.box,children:[Object(j.jsx)(O.a,{src:"./src/assets/img/bear.svg","aria-label":"Logo",role:"img",className:G.a.svg}),Object(j.jsx)("button",{className:G.a.button,onClick:function(){t()},children:"Let me in"})]})},R=n(40),C=n.n(R),H=function(){return Object(j.jsx)("div",{className:C.a.main,children:Object(j.jsx)(k,{})})};!function(t){t.LOGIN="/login",t.JOGS="/",t.INFO="/info",t.CONTACT="/contact"}(N||(N={}));var U=[{path:N.LOGIN,exact:!0,component:H},{path:N.INFO,exact:!0,component:h},{path:N.CONTACT,exact:!0,component:h}],B=[{path:N.JOGS,exact:!0,component:h}],F=function(){return u((function(t){return t.auth})).isAuth?Object(j.jsxs)(i.d,{children:[B.map((function(t){return Object(j.jsx)(i.b,{path:t.path,exact:t.exact,component:t.component},t.path)})),Object(j.jsx)(i.a,{to:N.JOGS})]}):Object(j.jsxs)(i.d,{children:[U.map((function(t){return Object(j.jsx)(i.b,{path:t.path,exact:t.exact,component:t.component},t.path)})),Object(j.jsx)(i.a,{to:N.LOGIN})]})},D=n(23),q=n.n(D),z=function(){var t=u((function(t){return t.auth})).isAuth;return Object(j.jsx)("nav",{className:q.a.header,children:t?Object(j.jsxs)("div",{className:q.a.menu,children:[Object(j.jsx)(o.b,{to:N.JOGS,children:" Jogs "}),Object(j.jsx)(o.b,{to:N.INFO,children:" INFO "}),Object(j.jsx)(o.b,{to:N.CONTACT,children:"Contatcy Us"})]}):Object(j.jsx)("div",{className:q.a.logo,children:Object(j.jsx)(O.a,{src:"./src/assets/img/logo.svg","aria-label":"Logo",role:"img"})})})},K=function(){var t=y().setIsAuth;return Object(s.useEffect)((function(){localStorage.getItem("auth")&&t(!0)}),[]),Object(j.jsxs)("div",{children:["dsds",Object(j.jsx)(z,{}),Object(j.jsx)(F,{})]})},P=n(42),V={isAuth:!1,error:"",isLoading:!1,accessToken:""};var W={jogs:[]};var M={auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m.SET_AUTH:return Object(l.a)(Object(l.a)({},t),{},{isAuth:e.payload,isLoading:!1});case m.SET_ERROR:return Object(l.a)(Object(l.a)({},t),{},{error:e.payload,isLoading:!1});case m.SET_IS_LOADING:return Object(l.a)(Object(l.a)({},t),{},{isLoading:e.payload});default:return t}},event:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case I.SET_JOGS:return Object(l.a)(Object(l.a)({},t),{},{jogs:e.payload});default:return t}}},Q=Object(p.c)(M),X=Object(p.d)(Q,Object(p.a)(P.a));r.a.render(Object(j.jsx)(c.a,{store:X,children:Object(j.jsx)(o.a,{children:Object(j.jsx)(K,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.574bee2b.chunk.js.map